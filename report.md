# گزارش بازآرایی کد

در این تمرین، ۷ مورد بازآرایی (Refactoring) روی پروژه انجام شد. در ادامه، هر مورد به همراه توضیح مختصر آورده شده است:

1. **الگوی Facade (گراف)**
   - یک کلاس GraphFacade ایجاد شد تا عملیات افزودن نود و یال به گراف را ساده کند و رابطی ساده برای کار با گراف ارائه دهد.
   - این کار باعث پنهان‌سازی پیچیدگی‌های داخلی گراف و سهولت استفاده از آن شد.

2. **الگوی Facade (تراورس گراف)**
   - کلاس GraphTraversalFacade برای ساده‌سازی دسترسی به همسایه‌ها و همسایه‌های وزندار یک نود ایجاد شد.
   - این کلاس رابطی ساده برای عملیات پیمایش گراف فراهم می‌کند.

3. **استفاده از Polymorphism به جای شرط**
   - تبدیل switch روی SymbolType به متد polymorphic با افزودن متد toVarType() در SymbolType.
   - این کار باعث حذف شرط‌ها و افزایش خوانایی و توسعه‌پذیری کد شد.

4. **Separate Query From Modifier**
   - در متد assign کلاس CodeGenerator، بررسی نوع متغیرها به متد جداگانه isAssignable منتقل شد.
   - این کار باعث جداسازی منطق بررسی (query) از منطق تغییر (modifier) شد.

5. **Self Encapsulated Field**
   - فیلد lastType در SymbolTable به صورت کامل کپسوله شد و دسترسی به آن فقط از طریق getter/setter انجام می‌شود.
   - این کار باعث افزایش انسجام و قابلیت کنترل بیشتر روی این فیلد شد.

6. **جایگزینی اعداد جادویی با ثابت‌های نام‌دار**
   - اعداد جادویی در کلاس Memory (مانند 500، 200 و 4) با ثابت‌های معنادار جایگزین شدند.
   - این کار خوانایی و نگهداری کد را بهبود داد.

7. **Introduce Parameter Object**
   - پارامترهای سازنده Method در SymbolTable در یک شیء جدید به نام MethodDescriptor گروه‌بندی شدند.
   - این کار باعث کاهش تعداد پارامترها و افزایش خوانایی و توسعه‌پذیری کد شد. 